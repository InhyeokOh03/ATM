# 1. 시스템 설정

## 설명
- 시스템은 ATM, 은행, 계좌로 구성되며, 사용자들에 의해 사용되기 전에 각 부분들이 적절하게 초기화되어야 합니다.

## 기능 요구사항
- (REQ1.1) ATM은 유일하게 식별 가능한 6자리 일련번호를 갖습니다 (예: 315785).
- (REQ1.2) ATM은 다음 중 하나의 타입으로 설정됩니다: (1) 단일 은행 ATM, (2) 다중 은행 ATM.
  - 단일 은행 ATM의 경우, ATM은 주 은행에 속하며 주 은행에서 발급된 카드만 유효합니다.
  - 다중 은행 ATM의 경우, ATM을 관리하는 주 은행은 있지만 다른 은행에서 발급된 카드도 유효합니다.
- (REQ1.3) ATM은 단일 언어 또는 양언어를 지원할 수 있습니다.
  - ATM이 단일 언어로 구성된 경우, 모든 정보는 영어로 표시됩니다.
  - ATM이 양언어로 구성된 경우, 사용자는 정보를 영어 또는 한국어로 선택하여 표시할 수 있습니다.
- (REQ1.4) 은행은 사용자를 위해 ATM에 일정 금액의 현금을 입금할 수 있습니다.
- (REQ1.5) 은행은 은행 서비스를 수행하기 위해 사용자의 필요한 정보와 함께 계좌를 개설할 수 있습니다.
  - (예) 은행 이름 (예: 카카오, 신한), 사용자 이름, 계좌 번호 (12자리), 가용 자금, 거래 내역.
- (REQ1.6) 사용자는 한 은행에서 여러 계좌를 가질 수 있습니다.
- (REQ1.7) 사용자는 여러 은행에서 계좌를 가질 수 있습니다.
- (REQ1.8) 각 ATM은 여러 종류의 거래 수수료를 가지며, 다음과 같이 지불됩니다:
  - 주 은행 간 입금 수수료: KRW 1,000; 추가 현금을 투입하여 수수료를 지불합니다.
  - 주 은행에서의 출금 수수료: KRW 1,000; 출금 계좌에서 수수료를 지불합니다.
  - 비주 은행 간 입출금 수수료: KRW 2,000; 출금 계좌에서 수수료를 지불합니다.
  - 비주 은행 간 계좌 이체 수수료: KRW 3,000; 출금 계좌에서 수수료를 지불합니다.
  - 은행 간 계좌 이체 수수료: KRW 4,000; 출금 계좌에서 수수료를 지불합니다.
  - 모든 은행에 현금 이체 수수료: KRW 5,000; 추가 현금을 투입하여 수수료를 지불합니다.
- (REQ1.9) 관리자는 관리자 카드를 통해 "거래 내역" 메뉴에 액세스할 수 있습니다 (거래 내역 표시 참조).
- (REQ1.10) ATM은 다음 현금 및 수표만 수락하고 반환합니다.
  - (현금 종류) KRW 1,000, KRW 5,000, KRW 10,000, KRW 50,000
  - (수표 종류) KRW 100,000 이상의 임의 금액의 수표 (예: KRW 100,000, 100,001, 234,567은 모두 유효한 수표)
- (REQ1.11) 모든 계정 및 ATM은 프로그램 실행 중에 생성되고 초기화되어야 합니다.
  - 프로그램 실행 중에 계정 및 ATM 정보를 만들고 초기화하기 위한 필요한 정보는 사용자로부터 콘솔 입력을 통해 제공되어야 합니다.

# 2. ATM 세션

## 설명
- ATM은 사용자가 여러 거래를 수행할 수 있는 세션을 유지합니다.

## 기능 요구사항
- (REQ2.1) 사용자가 카드를 넣으면 세션이 시작됩니다.
- (REQ2.2) 세션은 사용자의 선택에 의해 종료되거나 ATM에서 예외적인 상황이 감지될 때 종료됩니다 (예: 현금 없음).
- (REQ2.3) 세션이 종료되면 세션에서 수행된 모든 거래의 요약이 표시되어야 합니다.
  - (예) 계정/카드 정보, 거래 유형 (입금, 이체, 출금), 거래 금액 등...

# 3. 사용자 인증

## 설명
- ATM은 거래를 시작하기 전에 사용자를 인증해야 합니다. 이 인증은 사용자가 유효한 카드를 넣고 세션을 시작한 후 은행과 통신하여 이루어집니다.

## 기능 요구사항
- (REQ3.1) ATM은 현재 타입의 ATM에 유효한 카드가 삽입되었는지 확인합니다 (시스템 설정에서 카드 유효성 참조).
- (REQ3.2) 유효하지 않은 카드가 삽입된 경우, ATM은 적절한 오류 메시지를 표시합니다 (예: 유효하지 않은 카드).
- (REQ3.3) ATM은 사용자에게 비밀번호를 입력하도록 요청하고, 비밀번호가 올바른지 확인합니다.
  - ATM은 사용자 정보를 로컬로 유지하지 않으므로 카드 및 비밀번호 정보가 은행으로 전달되고, 은행에서 비밀번호를 확인한 후 인증 결과를 반환합니다.
- (REQ3.4) 입력된 비밀번호가 올바르지 않은 경우, ATM은 적절한 오류 메시지를 표시합니다 (예: 잘못된 비밀번호).
- (REQ3.5) 사용자가 연속해서 세 번의 잘못된 비밀번호를 입력하면 세션이 중단되고 카드가 반환됩니다.

# 4. 입금

## 설명
- 사용자는 현금 또는 수표를 ATM에 현금/수표 삽입 및 분배 슬롯을 통해 입금할 수 있습니다.
- 한 거래당 입금 가능한 현금 또는 수표의 수에는 제한이 있습니다 (예: 50 장의 현금, 30 장의 수표).

## 기능 요구사항
- (REQ4.1) ATM은 사용자로부터 현금 또는 수표를 취할 수 있어야 합니다.
- (REQ4.2) ATM은 삽입된 현금 또는 수표의 수가 ATM에서 허용된 한도를 초과하는 경우 적절한 오류 메시지를 표시해야 합니다.
- (REQ4.3) ATM에서 현금 또는 수표가 수락된 후에는 해당 거래가 은행 계좌에도 반영되어야 합니다 (즉, 해당 금액의 자금이 해당 은행 계좌에 추가되어야 함).
- (REQ4.4) 일부 입금 수수료가 부과될 수 있습니다 (시스템 설정 참조).
- (REQ4.5) 입금된 현금은 다른 사용자가 사용할 수 있는 ATM의 가용 현금을 증가시킵니다.
- (REQ4.6) 입금된 수표는 다른 사용자가 사용할 수 있는 ATM의 가용 현금을 증가시키지 않습니다.

# 5. 출금

## 설명
- 사용자는 ATM에서만 현금을 출금할 수 있으며 금액을 지정해야 합니다. 수표는 출금에 사용할 수 없습니다.
- 세션 당 자금 출금 횟수에는 제한이 있습니다.
- 거래 당 자금 출금액에도 제한이 있습니다.

## 기능 요구사항
- (REQ5.1) ATM은 사용자에게 출금할 자금액을 입력하도록 요청해야 합니다.
- (REQ5.2) 계좌에 충분한 자금이나 ATM에 충분한 현금이 없는 경우 ATM은 적절한 오류 메시지를 표시해야 합니다.
- (REQ5.3) 출금이 성공하면 해당 거래가 은행 계좌에도 반영되어야 합니다 (즉, 해당 금액의 자금이 해당 은행 계좌에서 차감되어야 함).
- (REQ5.4) 일부 출금 수수료가 부과될 수 있습니다 (시스템 설정 참조).
- (REQ5.5) ATM에서 현금을 출금하면 다른 사용자가 사용할 수 있는 ATM의 가용 현금이 감소합니다.
- (REQ5.6) 세션 당 최대 현금 출금액은 KRW 500,000입니다.

# 6. 이체

## 설명
- (현금 이체) 사용자는 다른 계좌로 현금을 이체할 수 있습니다 (이를 위해 현금을 ATM에 넣어야 함).
- (계좌 이체) 사용자는 한 계좌의 가용 자금을 다른 계좌로 이체할 수 있습니다 (이를 위해 현금을 ATM에 넣을 필요가 없음).

## 기능 요구사항
- (REQ6.1) ATM은 사용자에게 현금 이체 또는 계좌 자금 이체 중 하나를 선택하도록 요청해야 합니다.
- (REQ6.2) 현금 및 계좌 이체 모두, ATM은 자금을 이체할 대상 계좌 번호를 요청해야 합니다.
- (REQ6.3) 현금 이체의 경우, ATM은 사용자로부터 수수료를 포함한 현금을 넣고, 넣은 현금의 금액이 올바른지 확인해야 합니다. 수수료를 제외한 모든 넣은 현금이 이체됩니다.
- (REQ6.4) 계좌 이체의 경우, ATM은 출금할 계좌 번호와 이체할 금액을 요청해야 합니다.
- (REQ6.5) 일부 이체 수수료가 부과될 수 있습니다 (시스템 설정 참조).
- (REQ6.6) 이체로 넣은 현금은 다른 사용자가 사용할 수 있는 ATM의 가용 현금을 증가시킵니다.
- (REQ6.7) 이체가 성공하면 해당 거래가 은행 계좌에도 반영되어야 합니다 (즉, 출금 은행 계좌에서 자금이 차감되고, 대상 은행 계좌에 자금이 추가되어야 함).

# 7. 거래 내역 표시 (관리자 메뉴)

## 설명
- ATM의 관리자는 시스템 시작부터 모든 사용자의 전체 거래 내역을 요청할 수 있습니다.

## 기능 요구사항
- (REQ7.1) 관리자가 관리자 카드를 삽입하여 세션을 시작하면 ATM은 "거래 내역" 메뉴만 표시해야 합니다.
- (REQ7.2) "거래 내역" 메뉴가 선택되면 ATM은 시스템 시작부터 모든 사용자의 거래 내역 정보를 표시해야 합니다.
  - 거래 ID, 카드 번호, 거래 유형, 금액 등의 정보를 표시해야 합니다.
- (REQ7.3) "거래 내역" 정보는 외부 파일 (예: txt 파일)로 출력되어야 합니다.

# 8. 다국어 지원

## 설명
- ATM은 단일 언어 또는 양언어로 설정될 수 있습니다. (시스템 설정 참조)
- 언어가 양언어로 설정된 경우, ATM은 영어 또는 한국어로 표시할 수 있는 옵션을 제공합니다.
- 모든 메뉴는 선택된 언어로 표시되어야 합니다.

## 기능 요구사항
- (REQ8.1) 양언어 지원이 설정된 ATM은 사용자가 영어 또는 한국어를 선택할 수 있는 옵션을 제공해야 합니다.
- (REQ8.2) 특정 언어가 선택되면 모든 메뉴는 선택된 언어로 표시되어야 합니다.

# 9. 예외 처리

## 설명
- 사용자는 ATM 사용 중에 현금 부족, 잘못된 비밀번호, 유효하지 않은 현금 유형, 최대 출금 횟수 초과 등과 같은 예외적인 상황을 겪을 수 있습니다.
- 일부 예외 상황은 명시적으로 문서화되어 있지만 입력 범위가 잘못된 경우와 같이 문서에 명시되지 않은 다른 예외적인 상황도 있을 수 있습니다.

## 기능 요구사항
- (REQ9.1) ATM은 각 예외 상황에 적절한 메시지를 표시하고 적절한 조치를 취해야 합니다 (문서화된 것과 문서화되지 않은 것 모두).

# 10. 계정/ATM 스냅샷 표시

## 설명
- 이 요구사항은 학기 과제 평가 과정을 위해 있습니다.
- 프로그램 실행 중에 언제든지 모든 기존 계정 및 ATM의 정보를 출력할 수 있어야 합니다.

## 기능 요구사항
- (REQ10.1) 프로그램 실행 중에 특정 문자(예: 'x')가 콘솔 입력으로 제공될 때, 다음 정보가 콘솔에 표시되어야 합니다.
  - 모든 ATM의 정보: 남은 현금
    - (예: ATM [SN: 111111] 남은 현금: 7000, ATM [SN: 222222] 남은 현금: 4000, ATM [SN: 333333] 남은 현금: 2000)
  - 모든 계정의 정보: 잔액
    - (예: 계정 [은행: Kakao, 번호: 111111111111, 소유자: Jenny] 잔액: 7000, 계정 [은행: Daegu, 번호: 222222222222, 소유자: Tom] 잔액: 1000, 계정 [은행: Shinhan, 번호: 333333333333, 소유자: Jenny] 잔액: 2000)
